"""
교통사고 분석을 위한 지식 베이스
"""

TRAFFIC_ACCIDENT_KNOWLEDGE = [
    {
        "scenario": "차량 간 추돌",
        "indicators": ["차량 급정지", "차량 간 거리 급격히 감소", "브레이크등 점등"],
        "analysis": "두 차량이 동일한 차선에서 전방 차량을 추돌하는 상황. 후방 차량의 안전거리 미확보나 급제동 상황에서 발생.",
        "severity": "중간-높음"
    },
    {
        "scenario": "보행자 사고",
        "indicators": ["보행자가 차도에 위치", "차량과 보행자의 근접", "횡단보도 또는 도로변"],
        "analysis": "차량과 보행자 간의 충돌 상황. 운전자의 주의 부족, 보행자의 무단횡단, 시야 확보 불량 등이 원인.",
        "severity": "높음"
    },
    {
        "scenario": "측면 충돌",
        "indicators": ["교차로에서의 차량", "신호등 상태", "차량의 수직 방향 움직임"],
        "analysis": "교차로에서 서로 다른 방향에서 진행하는 차량들의 충돌. 신호 위반이나 우선 순위 무시가 주요 원인.",
        "severity": "높음"
    },
    {
        "scenario": "차선 변경 사고",
        "indicators": ["차량의 측면 이동", "방향지시등", "여러 차선의 차량들"],
        "analysis": "차선 변경 중 인접 차선 차량과의 충돌. 사각지대 확인 부족이나 급작스러운 차선 변경이 원인.",
        "severity": "중간"
    },
    {
        "scenario": "후진 사고",
        "indicators": ["차량의 후진등", "주차장이나 좁은 공간", "후진 중인 차량"],
        "analysis": "후진 중 다른 차량이나 장애물과의 충돌. 후방 시야 확보 불량이나 주의 부족이 원인.",
        "severity": "낮음-중간"
    },
    {
        "scenario": "고속도로 사고",
        "indicators": ["고속 주행", "여러 차선", "차량 간 거리"],
        "analysis": "고속도로에서의 사고는 속도로 인해 큰 피해를 야기. 차간 거리 부족, 졸음운전, 기상 악화 등이 원인.",
        "severity": "높음"
    }
]

TRAFFIC_RULES_KNOWLEDGE = [
    {
        "rule": "안전거리 확보",
        "description": "앞차와의 안전거리를 유지해야 함. 시속의 1/2 이상의 거리(m) 권장.",
        "violation_indicators": ["차간 거리 3m 이하", "급제동 상황"]
    },
    {
        "rule": "신호 준수",
        "description": "교통신호를 준수해야 함. 적색등에서는 정지, 황색등에서는 안전한 경우에만 통과.",
        "violation_indicators": ["적색등 통과", "황색등에서 가속"]
    },
    {
        "rule": "보행자 보호",
        "description": "횡단보도에서 보행자 우선권 보장. 보행자가 있을 때는 일시정지.",
        "violation_indicators": ["횡단보도 보행자 무시", "보행자 근처에서 감속하지 않음"]
    },
    {
        "rule": "차선 변경 규칙",
        "description": "차선 변경 시 방향지시등 사용, 사각지대 확인, 안전한 거리 확보 후 변경.",
        "violation_indicators": ["방향지시등 미사용", "급작스러운 차선 변경"]
    }
]

RISK_FACTORS = [
    {
        "factor": "날씨",
        "high_risk": ["비", "눈", "안개", "강풍"],
        "impact": "가시거리 감소, 노면 미끄러움, 제동거리 증가"
    },
    {
        "factor": "시간대",
        "high_risk": ["새벽", "저녁 러시아워", "야간"],
        "impact": "졸음, 교통량 증가, 가시성 저하"
    },
    {
        "factor": "도로 조건",
        "high_risk": ["공사구간", "교차로", "커브 구간"],
        "impact": "차선 변경 증가, 충돌 지점, 시야 제한"
    }
]